<header>
  <div class="image-text">
    <span class="image">
        <img src="/img/user-profile/Null-Profile.png" alt="logo" />
    </span>

    <div class="text logo-text">
      {{#if user.login}}
        <span class="name">{{user.username}}</span>
        <span class="email">{{user.email}}</span>
      {{else}}
        <span class="brand-name">Baryonyx</span>
      {{/if}}
    </div>
  </div>

  <i class="bx bx-chevron-right toggle"></i>
</header>

<div class="menu-bar">
  <div class="menu">

    <li class="search-box" title="Search bar">
      <i class="bx bx-search icon"></i>
      <input type="text" list="search-list-helper" id="search" placeholder="Search..." />
      <datalist id="search-list-helper">
        <option value="Bug bounty">Bug bounty</option>
        <option value="Programming">Programming</option>
      </datalist>
    </li>

    <ul class="menu-links">

      <li class="nav-link" title="Dashboard">
        <a href="/">
          <i class="bx bx-home-alt icon"></i>
          <span class="text nav-text">Dashboard</span>
        </a>
      </li>

      <li class="nav-link" title="Machines">
        <a href="/machines" accesskey="m">
          <i class='bx bx-laptop icon' ></i>
          <span class="text nav-text">Machines</span>
        </a>
      </li>

      <li class="nav-link" title="rooms">
        <a href="/rooms" accesskey="r">
          <i class='bx bx-globe icon' ></i>
          <span class="text nav-text">Rooms</span>
        </a>
      </li>

      <li class="nav-link" title="Settings">
        <a href="/globel-chat" accesskey="c">
          <i class='bx bx-chat icon' ></i>
          <span class="text nav-text">Chat</span>
        </a>
      </li>

      <li class="nav-link" title="Settings">
        <a href="/settings" accesskey="s">
          <i class="bx bx-cog icon"></i>
          <span class="text nav-text">Settings</span>
        </a>
      </li>

    </ul>
  </div>

  <div class="bottom-content">
    <ul class="menu-links">
      {{#if user.login}}
        <li class="nav-link notification-box" title="Notifications">
          <a href="/notifications" accesskey="n">
            <i class="bx bx-bell icon"><span class="notification-count">500</span></i>
            <span class="text nav-text">Notifications</span>
          </a>
        </li>

        <li class="nav-link" title="Profile" id="profile-btn">
          <a>
            <i class="bx bx-user icon"></i>
            <span class="text nav-text">Profile</span>
          </a>
        </li>

        <div class="profile-info" style="display: none;">
          <ul class="profile-menu-link">
            <li title="Profile">
              <a href="/user/profile" accesskey="p">
                <i class="bx bx-user p-icon"></i>
                <span>Profile settings</span>
              </a>
            </li>

            <li title="logout">
              <a href="/logout?value='stl'">
                <i class="bx bx-log-out p-icon"></i>
                <span>Logout</span>
              </a>
            </li>
          </ul>
        </div>

        <script>
          {{! document.querySelector('.home').addEventListener('click',() => {
                    let profileInfo = document.querySelector('.profile-info')
                    if(profileInfo.style.display === "none"){
                        profileInfo.style.display = 'block'
                    }
                    else{
                        profileInfo.style.display = 'none'
                    }
                }) }}

          document.querySelector('#profile-btn').addEventListener('click',() => { let profileInfo = document.querySelector('.profile-info')
          if(profileInfo.style.display === "none"){ profileInfo.style.display = 'block' } else{ profileInfo.style.display = 'none' } })
        </script>
      {{else}}
        <li class="nav-link" title="login">
          <a href="/login">
            <i class="bx bx-log-in icon"></i>
            <span class="text nav-text">Login</span>
          </a>
        </li>
      {{/if}}
    </ul>

  </div>
</div>

<script>
  document.querySelector('#search').addEventListener('keyup',e =>{ 
    if(e.target.value){
      if(e.keyCode === 13){
        window.location = '/search?q='+encodeURIComponent(e.target.value)
        e.target.value = ''
      }
    }
	})
</script>